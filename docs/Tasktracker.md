/**
 * @file: Tasktracker.md
 * @description: Актуальный трекер задач проекта. Кратко и без дубликатов.
 * @dependencies: docs/Project.md
 * @created: 2025-09-13
 */

## Завершено
- Гибридная архитектура пользовательских шаблонов (автодетект маркеров + кэш манифестов + AcroForm)
- API: POST `/api/templates`, GET `/api/templates/:id/manifest`, POST `/api/generate`, POST `/api/calculate`
- Модуль расчётов: формулы, валидация, конфиг; серверное форматирование единиц для PDF
- Поддержка кириллицы: `@pdf-lib/fontkit`, `DejaVuSans.ttf`, `FONT_PATH` с fallback
- UI: форма, расчёт значений, корректные единицы (м³/сут, м³/час, л/с)
- Миграция стораджа шаблонов: `scripts/migrate_templates.js` + npm‑скрипт `migrate:templates`
- Документация: README (эндоинты, миграция, стек), Project.md (актуализировано)

## В работе / Ближайшие задачи
1) Чистка репозитория и безопасность
   - [ ] Удалить устаревшие git‑скрипты, оставить `scripts/git_save_safe.sh`
   - [x] Удалить legacy `config/markers.json` (переведено в Project.md)
   - [x] Проверить `.env.example` и удалить жёсткие пути

2) Тестирование
   - [ ] Добавить тестовый раннер (Jest/Vitest)
   - [ ] Перенести скриптовые тесты в `tests/` и добавить npm `test`
   - [ ] Базовый e2e сценарий загрузки шаблона и генерации PDF

3) Качество и UX
   - [ ] Улучшить обработку ошибок и коды ответов
   - [ ] Дополнить UI подсказками по формату ввода и единицам
   - [ ] Мини‑превью заполненных значений перед генерацией PDF

4) Продакшен
   - [ ] Документация по деплою (PM2, env)
   - [ ] Опционально: rate limiting, CORS‑профили для prod

## История
- 2025‑09‑14: правки единиц, серверное форматирование, миграция шаблонов, поддержка FONT_PATH
- 2025‑09‑13: гибридная архитектура, автодетект маркеров, API

