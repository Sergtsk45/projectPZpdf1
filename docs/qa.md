/**
 * @file: qa.md
 * @description: Вопросы для уточнения требований и архитектуры проекта.
 * @dependencies: docs/Project.md, docs/Tasktracker.md
 * @created: 2025-09-13
 */

## Общие вопросы
- Требуется ли хранение каких‑либо данных или все операции строго в памяти без персистенции?
- Именование скачиваемого файла PDF: какой формат имени предпочтителен (например, `report_<projectCode>_<date>.pdf`)?

## Шаблон PDF и метки
- Подтвердите, что в `pattern1.pdf` метка `msr:` встречается дважды: первая — для максимального суточного расхода (м3/час), вторая — для максимального секундного расхода (л/сек). Так?
- Есть ли дополнительные метки (например, для расходомера/счётчика), которые тоже нужно заполнять?
- Шаблон одностраничный или возможны несколько страниц?
- Допустимо ли внедрение кастомного шрифта (для точного совпадения с шаблоном), или используем стандартный из PDF‑lib?

## Координаты и позиционирование
- Предпочтительный подход: зафиксировать координаты меток в `config/markers.json`. Готовы ли предоставить эталонные координаты или измерить их в процессе разработки?
- Допуски по позиционированию (в пунктах): какой максимальный сдвиг вправо `dx` допустим визуально?

## Данные и валидация
- Вход `dailyConsumption`: в Project.md указано м3/сут, при этом в шаблоне «максимальный суточный расход воды м3/час». Уточните единицы и интерпретацию: мы принимаем м3/сут, но на шаблон выводим м3/час (по формуле), верно?
- Допустимые диапазоны для `dailyConsumption` (минимум/максимум)? Должны ли поддерживаться дробные значения?
- Требования к формату `pumpModel` и `projectCode` (допустимые символы, длина, обязательность)?
- Нужен ли ввод и отображение «расходомер‑счётчик»? Если да — где и как его выводить в PDF?

## Расчёты и форматирование
- Округление: до 2 знаков «bankers rounding» подтверждаете? Или обычное округление по математическим правилам?
- Разделитель десятичной части — точка или запятая? Нужны ли разделители тысяч?
- Нужно ли указывать единицы измерения рядом со значениями в PDF или они уже присутствуют в шаблоне?

## API и ошибки
- Язык сообщений об ошибках — русский?
- Формат ошибок `{ code, message, details? }` подходит?
- Ограничение размеров запроса (например, до 16KB) приемлемо?

## Безопасность и доступ
- Разрешённые источники CORS: только `http://localhost:3000` на этапе разработки?
- Нужен ли rate limiting (например, 30 запросов/мин на IP)?

## Производительность и тесты
- Ожидаемая длительность генерации PDF (SLO) локально: ≤300мс приемлемо?
- Критерии приёмочного теста для PDF: достаточно ли сравнения количества страниц, размеров и визуальной проверки эталона?

## Деплой и окружение
- Целевое окружение для продакшена: Docker/PM2/инфраструктура заказчика?
- Параметры окружения: PORT, CORS_ORIGIN, RATE_LIMIT — достаточно?

